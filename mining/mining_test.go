package mining

import (
	"encoding/binary"
	"encoding/hex"
	"fmt"
	"github.com/abesuite/abec/abecrypto"
	"github.com/abesuite/abec/abeutil"
	"github.com/abesuite/abec/blockchain"
	"github.com/abesuite/abec/chainhash"
	"github.com/abesuite/abec/wire"
	"testing"
	"time"
)

func TestBlkTmplGenerator_UpdateExtraNonceAbe(t *testing.T) {

	cbTx, _ := createCoinbaseTxAbeMsgTemplate(49999, 1)

	binary.BigEndian.PutUint64(cbTx.TxIns[0].PreviousOutPointRing.BlockHashs[1][0:8], 15)

	fmt.Println(cbTx.TxIns[0].PreviousOutPointRing.BlockHashs)
}

func TestBlkTmplGenerator_NewBlockTemplate_UpdateExtraNonceAbe(t *testing.T) {
	BlockHeightEthashPoW := 56000

	nextBlockHeight := int32(BlockHeightEthashPoW)
	payToAddress, err := hex.DecodeString(payToAddressStr)
	payToAddress = payToAddress[:len(payToAddress)-32]
	payToAddress = payToAddress[1:]

	if err != nil {
		fmt.Println(err)
	}

	coinbaseTxMsg, err := createCoinbaseTxAbeMsgTemplate(nextBlockHeight, 1)
	if err != nil {
		fmt.Println(err)
	}
	subsidy := uint64(256)

	blockTxns := make([]*abeutil.TxAbe, 0, 1)
	coinbaseTx := abeutil.NewTxAbe(coinbaseTxMsg)
	blockTxns = append(blockTxns, coinbaseTx)

	blockHeaderOverhead := wire.MaxBlockHeaderPayload
	if nextBlockHeight >= int32(BlockHeightEthashPoW) {
		blockHeaderOverhead = wire.MaxBlockHeaderPayloadEthash
	}
	blockHeaderOverhead += wire.MaxVarIntPayload

	blockSize := uint32((blockHeaderOverhead) + coinbaseTx.MsgTx().SerializeSize())
	totalFee := uint64(0)

	blockSize -= wire.MaxVarIntPayload - uint32(wire.VarIntSerializeSize(uint64(len(blockTxns))))

	txFees := make([]uint64, 0, 1)

	coinbaseTxMsg.TxFee = subsidy + totalFee
	// txFees[0] = -totalFee
	txOutDescs := make([]*abecrypto.AbeTxOutputDesc, 1)
	txOutDescs[0] = abecrypto.NewAbeTxOutDesc(payToAddress, coinbaseTxMsg.TxFee)

	coinbaseTxMsg, err = abecrypto.CoinbaseTxGen(txOutDescs, coinbaseTxMsg)
	if err != nil {
		fmt.Println(err)
	}
	coinbaseTx = abeutil.NewTxAbe(coinbaseTxMsg)
	blockTxns[0] = coinbaseTx

	ts := time.Now()
	reqDifficulty := uint32(0x1d017c38)

	// Calculate the next expected block version based on the state of the
	// rule change deployments.
	nextBlockVersion := int32(wire.BlockVersionEthashPow)

	var merkleRoot *chainhash.Hash
	var siblingHashes []*chainhash.Hash

	if nextBlockHeight >= int32(BlockHeightEthashPoW) {
		merkleRoot, siblingHashes = blockchain.BuildMerkleTreeStoreAbeEthash(blockTxns)
	} else {
		merkles := blockchain.BuildMerkleTreeStoreAbe(blockTxns, false)
		merkleRoot = merkles[len(merkles)-1]
	}

	var msgBlock wire.MsgBlockAbe
	msgBlock.Header = wire.BlockHeader{
		Version:    nextBlockVersion,
		PrevBlock:  chainhash.ZeroHash,
		MerkleRoot: *merkleRoot,
		Timestamp:  ts,
		Bits:       reqDifficulty,
		Height:     nextBlockHeight, // todo: (EthashPow)
	}
	for _, tx := range blockTxns {
		if err := msgBlock.AddTransaction(tx.MsgTx()); err != nil {
			fmt.Println(err)
		}
	}

	// Finally, perform a full check on the created block against the chain
	// consensus rules to ensure it properly connects to the current best
	// chain with no issues.
	block := abeutil.NewBlockAbe(&msgBlock)
	block.SetHeight(nextBlockHeight)

	log.Debugf("Created new block template (%d transactions, %d in "+
		"fees, %d size, target difficulty "+"%064x)", len(msgBlock.Transactions), totalFee, blockSize, blockchain.CompactToBig(msgBlock.Header.Bits))

	blkTemplate := &BlockTemplate{
		BlockAbe:        &msgBlock,
		Fees:            txFees,
		Height:          nextBlockHeight,
		ValidPayAddress: payToAddress != nil,
		SiblingHashes:   siblingHashes, // todo: (EthashPow)
	}

	fmt.Println("original contentHash:", blkTemplate.BlockAbe.Header.ContentHash())
	fmt.Println("original merkle root:", merkleRoot)
	fmt.Println("original merkle siblings[0]:", siblingHashes[0])
	merkleRootComputed := blockchain.ComputeMerkleRootBySiblingHashes(siblingHashes)
	fmt.Println("original merkle root (computed):", merkleRootComputed)

	g := BlkTmplGenerator{}
	for extraNonce := uint64(0); extraNonce < 10; extraNonce++ {
		g.UpdateExtraNonceAbeEthash(blkTemplate, extraNonce)
		fmt.Println("i:", extraNonce)
		fmt.Println("i contentHash:", blkTemplate.BlockAbe.Header.ContentHash())
		fmt.Println("i merkle siblings[0]:", siblingHashes[0])
		merkleRootComputed := blockchain.ComputeMerkleRootBySiblingHashes(siblingHashes)
		fmt.Println("i merkle root (computed):", merkleRootComputed)
	}

}

var payToAddressStr = "00000000008859181531f81f9e6e035478852a84313c675e8b5e2efb8b6847ed166090411bb85b1d4bff3a928e5a3a87d74edea477f24ee80b89e7c9c831770e8a9fe3deb993e8602f29061b8f7f6d398d0cb1f528f5a41ee2d104a6b35e9b8a1130254337d9a57fce5a12a62673dc49c6e0b810d66c24f663f7cc210edfc16f2e9ae37557f4bde67e6d6d9ab559a970ab5bd2641a8b5dfff954e9f29fd0b9273b69f8d5bdfa956a9162a89277c89b4a9063c06d2b41c505dcc435cd7e0a46c52e5d49367a0071bf936b8308b795067a244e0c40645a9b098e355150d86b4001cbc15ec0b7abb7e1d1c0f4ff744efe064696dce362a53dbc165b07d0c3b111aa94c81411261cbc621b96a8a487dd0d4561e603ca84ca2310c51b5b910d4a5a5324b96ba5052b5f48fc79e7ef57d728f5c93955f2cba0d866345ee8d644dda5b1916e1aa36d237b6a0f53f4d4890f86aff2f3fe1379bc1662f895bfa4f14416753412b344de5dba651e618b27a057c03445883f0ff10b40d10461d617c30df814358dfa66b5f92a68fa88db6892a1ba11305582712c243382073a213d8f3a243068836fb9c1fccd10676f416894a73bb444ea05e8785fb2b802db4fa556c301ea34a021fc20d9a4e4844b79fd42a33e0a580a758f37f9bb4589e8e74268444ca847a1cfc97dee9711e8b7d55a2a81f4a58e79969009e905e85131b5c7f3ab2523f277d18de94226126e1fc9f6827c323d9c8e6f73f018ba5117261b4cde2230786645ca37632b480dd630fea1a3f214b1c8596637cca8300d35a5a6107f9ca3a41e3cadeb00aa04de31248600aaef00b6c4de7f58e478052ce82566be99a0d2856b195d6676907e5a08e4ad46bc78135fb3ff9c3786c83203b9437213d1e9f9c3c55eacce7f2bb8aa9780425975233925a0551436b6a57febd8f72fb7786dbae8534b3753361dd1c81f5fe468e3b6c5e87e79f23e61591708a4f526e82ac8f128831b1d725b07e160c7b8599cf262394dd175a7e4efd3425a4a465aec1b2937f4eba802883c969a70fd4c7b718e892c544751612611420312691472baa9b1fbb552ef4600f531129c6a6008930b1221ef64dd0a3aef1c26e8beb0dd519973ef009eb1ce9077c8dd2e954b49c1137bc2189d2e12ff00c1c596f9e7de4e68a46de3b785a0c023c86faac27695d6e70257fba59e4a7cf0ca06dd744366d0b7acec8bb845d48c1d3eac9e989ae77553904e7f2e5e6cbed7a04a1224af0fe5fca4435acfe729b9e49471a6c8250897938ef51ffc6c058add1e67755a0e44494b8292f81caae37755b8bf2e0740c6a72c54fa0a6e100477a879d4e15c4383918c67c8e8c946fa5c5b73f6c9ddb368bd8227e45d1d6ea2efaaaf417229d10b56d6a9bb37cc5edb195c7f518d0cf9aac286872b794c6df94d113d7630e1617ccefd00696512dac6949348a5063ac0b545e1f3677cac2ea766a91d4feeba8d6e69e4e55477ad71afd07ff8b3d28d0b3e41618182fa468f94e8d6583081dbf19a6cafc28cfd5bc2d8c67b81990bc3be6ae11bd4f80d56940ea6f7e2f74a999c3d0f7b4344b72305a763831ccce1deaeef25cbc93ed372d52708880deacc055c9e0203c93e804dd92c31ece688415595cc1d5f909cd887dc08b2aff8e885de15c77658ce7992c52c0a387c8e3eb380c7e76d6820bd57a6d5143ca8e23866c0c9e5fdbcff11aef477765ca775ab96f76e9a94d9800afa707fcac3d869f3562a51735faaebb9ca12d7c90fc2df5fe04ad83083a49fc8cd28af22c0bcb8ae533b98ba24fd7e577d67f3abf5d88af905c9d5003d7a1aadb426cab26f079908306e74f9d363a67c743c4c0addfb0cf8f40302d8cd20d65116881cebc0efcc57c4bafd7d24da36c04e97e250a44bf44e1bd696aa1b7aa015dc53472e2f36b89a1759cd54fa8a16572ab8eb71cc73e85d0f01abf52b434dbcae5aceeff6f39085b92491edb7b49f7dea8e2551b89274fc3cc1288ec11bbfea7d382ede5bd09996086b1ec7ea062bb2a165fc40da473c05450dff24e0337f48f3dc59c6556f6b07b9b99c82ca435c117e7f5d35362b380a7d68d5cdf20fb1fd588bf4e704c282e120da48f1159b16c7401b5f9a8f29dd892e4a8e067a4deebbca550fd7a947cbaf865feb2cd0c9cdcfa0e0f84a468aa9503aade96d61e8e4b53752aa2ef621b0eb0b25cbe262827ecd3f22c55e7daa5cf19dfb012abb17cd012bdbc8981ae7e4b79300fed786339924ddcd4456aea0830f06b9287f832355d2100e2eef05da2e54c2e84f85023bcac315faca986bb96a1d5ff08a3518491cec386291b29214af6dd8312a4e8f3e8b0029c8f42b7ab398e6254fb53dc7464c58a5d4d8c210aa37617d4684fb29d59bb47ad82d1e9769362f52c748ba2654deeb5a3e181c0495c69a81fa7e67a0224e30d890aa78021ae99d42dda2be39afb4e0bceefb6fd24d3fc3ea03d2a864bf17542ba4535cf9199cfb6b5ffa46b7c81df5c2db95d2c71a9098e6ccf60add54125d711a8a8790f81d9aa7bc0d38ac4bedefc8d389ec88cc61d6a00491c808071286669eccdfcd45f9c43e06316b0b3c4a0a8a3d348d2f595bae26518ed9b56ab3b84b2a900bfd2075fd91dff89587d23a749708ed1fe31533fb8f1d6d82199b306ec25c6785a862b70e0b70aa958005f5b493920e5e3123d7e24ed57add4dbbfefaac80ee96d379f72ba17a5da5cd0878f2495a329020330d3f8b8535d9df8f5c6e78606c921170cffca2ca01dcb24d8ca174fb3fe065927d2bf25562391a2e7ef6bcfc8201d43cfeaea63c098fb52ca50be49bcafe52cd9bac9930451cd4621331455bdd19e5ca0b4bd34a0a486f71e1fabcbc11ba4f2f03314fbb03fb660ef605b43a450b5571e2e12cb5e0a05bf3269ac2b1ff3a7df8b28b61a0d681118ea530c785c7a57136cc0638a762be3214b1d8c221dbc39305094a080d36701b7f8dd18543df7e5fb7fc053b4e1512ea570045c8bf55283eaf687ef72b367107f1b7e4b8bfab3cd35b27dbc00d17bc59ad4502496b982f865ed59404b430b563b8efe4d0cac5cf80849ce3491046185de66489d60ed5651e1a00ac8ff6c05d8deb53514bf1870f90f3177eb2d84010ea448a9b415855b1103284a6f69ca1c88722d1ddc0d244269eb507c5e3cbbdaffbad6c1d177c7c0449a1be04c7c6feea01c11ff0238e3364ff76ce7140517fdf9c59d60c58af6f4e7f5ec616a6727570ccc530a5ffd1654bd9211841b9951bac8aadc96af922174986947c513abea5289ce7aebb8c538cbecacf27f528def40172225cc56e2e564409eca27c23229f8d3ffe9258a3605303f054e68047c5ea60df758cb1477dc405091309fec6e28894217eacda3392bfa1d9745f9e2462a59de0487bb794b10da2039747f944999ed264081d3ec91ffd80299be9e3f2429538af82519baabfc5ef19cdf28dc9809aa0e998a15100937d877b16a49304e59175da27fb5059a820eb0a2fbc3d21220ed4bbcd5542a54b2dd274f14377f517bf05c344e7e4fb9f6a467772106a045e0930c72d5c9550cc0f5a67f98cfbd6c85cd4141f8c7ae6027c44c109846163396cdb278cc4352094d1bd5ed4c229837bdc53644370fc8c83df088292f02ff82ca500ddbdc4aca8093f665dd8c4dc661c76561ebd40559b4c8771c6bcf7adff52f1cf094127044cdd4d680967046c9cc984e549f2689e8188a3df51cd61fb07219401a594b434235ce767b7eb1a2085f01dbb3d4980176c49c95e2a0473506e904ef5d34f50b16aa6e278e4819f3d6872f828ccf8b06353fc2e7a52fa2700e7e12e97140c05a1a1ed97823cfe99e4cc17b99ec57a3e83767df6d45f55f0d0334d35a03154260016cf32b7df8240460363bb155b2460283c5e85d52dbd9aa92d437c5b761795227a91c2dec6c49e4296ef90de15a5a73e13ae164902f88d2ad9985af370bb5784984717dda869cf7583866b1ed1a4abfb53e31f20040a04688ebca5796b6926491273ba9d4bb39a14ce49f6e4d61a35a6a7ea6dac7dbf5e97e677116bb1d000b5e98f844e3357ed26acd398e7ddf95f328f51a153b4426f3a644d782ad202466f8a7bec9e6a4fa434ec1778a9eaca6bb7f53da7d227f26f07303635cf35298327d082c4bce465c82d979f0b060e566c63bc87ac33da4510f35778ff2d83635c42721f4aeb088fbc84a061401eade72ce8492923b7f3c18ca6708d5c132dd9844c076aec78ce17620a4c0cba52aeaa93e5f7af2ea115fb693e6470fbbe627279982fc2d260fe6e1d8937f3dfadb54f7239b98ebd5ffd37d8bcdd89c9f3ba26f1a2c6a9d38ab44e32a042a0eae887b9f9117b36843a71a0c23416d34c40ec47992271335d29063b0139575fdbae75ec4e0faf3635a38853b41be43ac201818a69a9d87d25bbe16f5e02482f7de9edf738cde7327097d1495582fbc89ef141cf802c3816eed8b5de757a2fc826aa87a80e844c9dec06ce6d78c7bcdde22b7afdf1f12a6b76cf3ef7227b1acd69f3bf0ae3751914e9a64053f4843d45965d1bac8c0bcbc2524f51439984f2922f9418e1c50772ba210c63374fe7b1efc77d2ebbe547574ab54a0be4b0eb7c96f2161498cf28e3c2e8faa76be22ebf22b4af70994093b8e3789f7ebd98a77a89a907988bb59c09072d101bb5550a57943bdfe2b42a93758c78c1ae4c1f38820d7a92f537c251942cad581220f07a137be1540e114428e04411b413f018540154c3490101e6de0c44682d3d70e77cec2b1817734fbc618e75513ce7f8fcaacde7b01d96e94d2889a832ce40d3dc8afd09e6c7aff6b11ab6d7c2d6e13a006453650c73bb91f8f51e0872abf3fd35529383e3aa6ccd148a374e5d76287de00df39e9684bbcb6f7eb7a581bd9d22fea5cd0fa62df3ba652b3034978c68636aea39e7aa4f10cdce3855c4a1fb70d3cf4773652d4ce11d1de4c4bbe059655d96667db0b7b123a7ae88b0d036f61427380845949e83faa881616ec3479c751d1b33343fa2a4e0fbe4c6416195ffb9046838b0c312fab05f098bc75ff73e43e523056f1aa3f2cf7debdc0b6a7f7cda9954d5073b0368e58612e65024fd8803164e83275915c0bc3a136a662a04f5d9d79829eeaabe67a20e23c6267ceb8e852bd3f61455356eb6868e7b921f09b4438aa0f54a6230689582b76f8d2a9d7733897b18a65010a97da378d03086f901bb7bac2d3e9eaeb5d0115a80963a120fe80381a248dd086207f9eb3cdeb734a65024fa5ef4e72c5e5ef36c766617382dd28c36e2c1b2782cfe0317b6c45fc8f1c9b86d60d7e517b3e12d2e4ef433057d78431bd1f9b4764a3d4a62de69b436732508df5afe555f13e68655782883e3ce5d3ccc3dcd6ab6b7e4eb101490209fa552f1d80df5bd64a87d6c9c33fa9f8b326417220916ccad69f295884708d375e8bcf810b1b1bd007be00690c69b6f366070af6e2dd9f55dc62507a55f4d0c5e8f7df31476db58922facb103cf2c2d6f8e9e0542fdcd070ffcf6530c6c686e7ae89254b2f4fcbbf99e9f6e200895338a9558da4b865e310f3cedf88fd878f78dc64238ecebb2901c8952d793c631a9ebe8b4fc245f70dc1270ea5016101dd052e2e4eb75c7d0dffd784ca5b730e1c12be358637180acc81024c46eb3f79a14e77e0d16d5ac52bc9996c21cbd3da162f77f152778b08efc1d1c44bb8920515a7fa2f4d8bc5e9657138fb936a106c35aec24d1d1731087aa85dfde9ee17fa144d8cf7be6a66df28c3dddcc4e6236024a6185de11854991674d6f1c66d1d965fc4e0f4797e4e8715f42ca04809f94bf4129957cff712f7a41ab9f9f55416fd39883d65e9a7e83b626275a49c82e87da1c90083dcc32aba8c6f7c2f236597e94d18f5caf830f9b530cb4ec39e30f0e2afdb38f94493b2d32dfaf2e440f8ecf628b54feffb7a1593a531b67b547291b572018eb1c73ebde378c6cbad95a8312d8e9fef4f6b94ef4b9f42744031c954f90d4df0ec53ca802d62359f3d29b2b58a5698a1ac68cdcee88a71433f1a15033f154529c16e445ef84a1772d692fc8c794fd7088825d44743afb144b937cc2dcb30291c3312810cd658308907af2275832a8cdd2aef1e2a13089d4e60e9f5729b9131371f3377b1835374e927977a7e19d10b30223736ebca51288282c9c73eabf96506701bea60d2faf1acbb6e4aae5420eab34b27689e6662686ac0f9597f0daeb9504f2aba5985439bc36373453907b994ccea35addecd829e73d6de5e7f12b1c16af7bcb39aa4675d419b5f915b4ccb14e0c8af539a97d9d2a9525e80d9dc12a8be70dd45631113fdf6ebd8e8d6cfb495aa725c6560147ed66c446dffa15044379a3c8a67f6da56487679fb773702c947525fb45ffa6885b3762a9681fe6f19504e860ee7f7e296542f5f8c2d8b0ff3d42f9b4eea5957cab7c883e5c9738000cd50081bbddaad4c6fc7ce28d3ea582cdf74afaf9afffcea0bbaaae84a7cb83a17cee5d6b8b68a356a3eaa974479d5e18d563ab5d9401f3445315724304d0bf794067f8ca430f68c251a2df46e754739912e2a7be567e67fbe4571263644ecbe9311e85748ec31eee001ffedea31c46c90e78c44f7901387206b9a21cab80f68bf5c5f03f82ec164d3db91b11201be6a1ac6ea60988605b2c1720731b712b2875614e4078d1548b1f1785fb3fb459fbdaee9691fd8cdf50b84382f73b8f93c7a0902f32e2064ef38776eb5c8adb07353dfc8e55899c98d6300f25373653b80b31fa1a1ccf9845d768cd2d6c812675dd96edcee472f3ed506cac3f06614f23f072ff3bd64275966d9cfa5453ac30c8b8b6f0b3c19a329c3bcfd04e71e10dd54d7a77d6e5b0b96d388f9bab018f1019f441f373ad8dccb5ab3c750e6bf101a3c2776ff907dc821c0be7851d6660add2cac81d16ee78ee7d4da7a510f1b73cdc5ba1bc78dcb661ac57c3070d4c0fa0f79d71c4651b9af83bcef5c7b3a65fce3fb85fc8ff30233cab6bd87d9ac48af95ea7747c6d6e383e4022e86f33a8e3cb30a81d58f478e72172ba37f2e1371eaa2454db773bbcd347bcc1e1224fb3ecac8aa5dddcb66f5417af90b2eae3bec05c68e65b6e8fd4e2a210ab28af9a60265dd774162de068823704322d337fdf546e7f1bc540e479ef152204df446c2d8cd079b4aa6d96e28eb9ea103f6ae9f7ca80a956ce3714f2ffd444a4e04d9b4a40e8710e028be198b4a96bb90b5211125ad3a315d99a9f745e47a87291327ef728da1ae3a3e0cd51192c4ec765b5bc16e8f26a49ddddf99c6a518addebd0add496c66f18252d79f3847cdce42131eccb5067e91ddc2a23da5205a1fb5cc3c9580b07714780ea1ff9677ca7257a4b6073ae9315cf257e7933605497fd9541febcf959a623b290435ec7a7c25215db7575770dbe36aa29a4b0fbfff67728a9391225d984908f2c3ff6d1348143aefe6d33384ad351cbd0aa24666cc79a6c33e3ba320c858baac5d5b1f3fe355837ff288b582612231812bc8a362226ac89ce62a99cffc2d52d6a91ce49ad710c4ac10a5d6d6154b50fc76373dfc59a3d8bb1d6bc1ec9b8e4b4656b3c9be4f3f32cf1a3c9c87e2233fc1be9936ec743f894e7fdc93df9d2777c2767980acd46e69527830d570b8aefe454721f1abefdd731a9cf85723b3347a083cd0d94ba84aa2db17f43ba566eb76be021eae4831e678faf94435a12cc79245eb2adfed46c3b86a735c09e3454c8d5bfe16d3d2df1ad9f1fe29db9d08a6db7d85c686ea73ba45ae461d085c65a650ddeccc73a4e8f0262e321e1674cedf3f46f42b7e1c5801ac0c3ea870ba61f75e66af2cce374aa1f11265fffb72cbdaa3b23958042b046f88e5e58c6eeec99d7db07374560ebd1e468d8a76576bf6743dae6173334f7a2791c95d4b98aa41f3d89f808ab8049d322b1c02ad5352206c62b6de8484ca34efb8972b40b010f94f67108b027a6dbd72141a02b903417dbaed9779ad10e62a7ec4082cb2c57e11f4786b19f85860de6aa2f167b7b9e8ab8e0811c33d84280819b76527c0bd5abb8e5e7872d9a6de6f33bda232a9b5127731a771f2c75eb954c07739a773ea1435bd64895fafa993c6d363cb874f03fcb4d1646dbbe40ba54625817e0ab3f39526f0b99cc363361c100262241a04e32734375b1ebc35a0e12c952ac5fb2be5890af5543fb19f4a2c0b38ff93a9f5d22e29882d1c1645a194cdfd52959ddc67bfb90a2a223fe0e7ca80035b9808809d1ca1aef026a5ad8e86e0c48d896f259748b20a97d6cf76e5cbe59476cdfeb5c11344715a94951781e30ecbc554bf9564be2c3c6c65ab976ccd1a6bbe57dc3380592550c03807909b6aa024a1ad489e52a6a4a28ef7d6812bed85451177a083e7e6a7a5de92afc71684cde9789ef662b8693da6fa21c0650647545d49ed10eb41acc7e04258a3bb3fd7019b106f11bb4c52e7cb35c904178d9b8870e1e5a4534df6fe756b717fd5e887223ebaa7d9e1524a3d55defdd2b72d2f19612eeea50c7eae68eca1db3783cdf86507097c4ce3e4d9cd8dc10cf825803e548ba49260f936b1214f7ee9650832180a106a9fbe38bfd19723e71a9e7260dcab899f601922c485045c317eb8808de5972cb2aecdda0bd90a9cd3b0b9a3b92cbf9f6e1ab4933ac92edc7fe8977c5d643c2e22bf8b1051e3909a4704b150c5719f18fe7b98529c7141d150566736659cbf066101357f921b1dfcedb8ed9830d4b797a9a5995a5731fb0d8f30d817bc3398d31b47619c723c863e283b48d937a4bcfe1d55e0f0a066ee3df734a4dc55121a27ea891e768311b98b830d9df891b52966c061b3c0a5dc6988a46dcc2ee56c023e26c9f61dd076505f711e8b342c9e513e08f96aa34693b891b1f1126cff66ea0abfd90d6f4c647f8ad115d2173d3c96db8ad9360da004bd1d5e8189cc8551ed2ff6714dcdc9c7e620a0b99217e9b3ccdb969dbac20f20fc07c51d34872c739f96428fea4e9a23329b59405aac10dd5e13e4bc1a6f5d8623bf9fb2823cdbb17d858f9ef4b9e30f6a7935c4503fe3fb0b8bc238f1301efed847f1a16c13b579c07506e3a35408e4ffc21d5d38b6f2a4d716fad44e87fff1e844df367fc3cdc9e83e79a86cf854edcb5af12491313f8621618de8e850963cdfc5c23d1239ada21e4fec7853cc918bc70f2742477fb8b889717b5d16115b0109e15206a25a72af328d4992297fe868d458d450cf52a0d5b53bd9d79ea682863239e7ff8149de85dd1a9ad0772a0c0b789c60664234f760682d8dacf0e00228b43e8a396c23b2b6c946ae8c0f6fb54c7f86d9379597093fd04414c984dee7342874a36f4cf3af3d6b5ce37405ed7375c03545930c21d56ba20fd9d3efb2f74e02211e26d3059d2cc7e916e016b73e791f80c846d35c1726378b24a39e6a32752132491517bad00650fb7ab41c82161f356d7a3a39d054f638b904ec034cfa59503ab88698090f495e16546fa2743c5cb106f8b5c622d210c262c31be162f10cd45172f642b7a011fcc01ba9ddba97d8c5632d1348cad5502452962bbbf63f8ebe2100334b3d86928fb1f77955388d562fd8f6660b57dc9cef1091b3101344941e148107b5f9a84796f1542e57ae6777b026ecfbba639cf6a53bc68e15a71fb16def6d0ae790e70ede377b5a9d27851c13ca07568901c04e74195cb6abed1351698f579d8e9167a14a4a2eaab155d4152de91c5ff581c3444afd814bf9831543aa6f898273e1708327926a9441c64a306316a49d67116315bc368c9e299c37adb850e06c19aee893febfd3ef6c3bc6864e985f3a5905428c11eceff320bdccac0a8e8bdbee135e10b8a2b5129e22de4c272df0558e4d41c4076f19f93cde19855a87f259aba244b9674d02ceb552801aa58c99e50bb721b36380bf59ccbb0a3dae5d9cd5e5504dcb8dc601786bd3bf36e016519139b3f98278265e36775f98a986ca43f57bbb782e8e17ad5dd320d1cae827d57d9e0432fdf1259fb3e680de364ae03bcfe1fc44112d80c5cddcf985f2c69eac174c1f8c6af19b38d0c9611327c2c2d857f26cc833d16710545849593fc2020942a7e314656224576fc45f7fa9caffcf6722ee2abe71bee2515e231bd8e4aed76d8cff5514a0697065ba1105d93948ca376ad30751e681dece8ccb1450f5835a3bb98e596a600c1cfaadd32b11f3370b1ad440bdb8f959dddbfc42a0eb05fb5dd54ffa1fc6a534e4591b93db08c826b635d8c8de6c7c0c4384ae1a43364558267a1dda16c73f82604f8e1903f247e9603c3dda1edc8db73d341b145854b8443748bdf587ab952eccb890b7e73de0947d95d31594ca0f924f08db192c30b5e6847be56a015ad638905efe16ff212b0c5d818580acbca593eae3429d0012bd94260055af15ea9ee1fd097354dd6d9e7853c71317be3caa0d0b8578e1fce9744b59f1bdf24ea2194eb361deb257498a639f7571c882b10c2ace583bd399fe92f7f42dc585825ff1da6122f4903bf3ca84356c36acf0822482778951d0c824406bf15b4e40d7987a81c9e4f320c71a79bf2f6ac4930d891b2e045d422b221fcd182fb5a847581c77fe0f7f81dd366b75d6202528c766fff5bc06eb44c1835d6683bafd40fafbf173c80fa78fa4b39fb145edfa6c3d1f7350c54998f7d249b3b50fa98f65868dc3a055aebb8274ab29b41996214fe584f7f1d7c0762fb296853ca37343ee5700e08391028fd603b90f52b8dc15e80d542a6fab05a4669214795544fd63f2d1e10b0e047fdb077cc13102abbabf8672cb945b6c516b1922a361ea9f66533f1fd9fe666eacb485dc2b223dc7bfb5b4f6b4cc2b42339ca690bc8582c61301c1ba1bd5e7b43592c36e0b6e79906ed2ee671a397938102e1bac0313120a03aaecdec7e60d9a5da1e9597b664cd4a87720ff57fa6d4752a18797a1f6d7f54c8f5915acd8c500529170f69dc9637985604c5dd21b9238ae63978b96b73b27d447bf77b90d701d0549b880411d21a7c3ef0e4c1e4c01ba05fab2e4456808977e4e2abc131793a1521fdf6fc896ad63a18da940aa14e9f22b47d65b13d2803f93851893d8d0327dc7b562517d6fb32e599e094347e78573f227379dc9653b4308ad858e1f2b1a6da344434e42b83ec5a371d4d9d148152299c4c924c4ec81888570ae5e0b47222f4d334316c27595213f96bd0d425e3883b7fe51a88b54c6ad20d04e02091f920d19fae72166de2b875b77bddbe5892541638028455655927b3d665be98657227fd6bebea1d0ca66e98b909451017f9b585278a87325602958e8c7824f103fe513f0530a687391340ffa8ce28de39613b70b3d7dda6b3833783af0219e967e9b58ef25103508657aac5bd88901a58a82765164ff428953c2df7f5994f10e36b23a37ec8ea7fcf49aa27280bdaba0a45d7d84740f03888a19d248ce09386d5c54396ba56868da864d161dc5d01d3724dd694c617631c6ea772ab42792c151a0a4071167d61f927baf9dc17f2e3eebd38ac109bce2a82b380e628eceddec00999796e0bde787ec7aa3b6d50db34c9baf916903a804adc2a40ca496470b7fa14e1b30fb8216dc7b6cb7fb199c20ba82cd111209eff6252efde3d8913818207f5bc0545f9700c3f49e37d5a764e5dc028171b216f0943ba5da54e162942a0f6ee6360a9ca036e1ac283dc0a1a0ec3ddb2a170bde2657c60337d4074f5c4ba629a93a5e56d4194ed225b9c0aa32533b66cb2cecb18cd61dfd012c59fca2a07135bcbcb85dce66b25d4f911d2a0f3083340032eb86c1f843d27c807da3257fbd1ea89369d456a8421288253bac45acc5c7d3dcdfa025129edfc277d03159b161e69629f9a1351cd6d1b620d2c9f56d4ffcba427947f64d9e25aaef3890ce22800ed5ad4702e1701d90abea759bf3ef62df1112c580434b7c087a36a90efc604e75c7cc6069eb11a8e7d7c701121cfb2eca53c265cf0ba24576893042fcc0264dd2e5f10ae0e4a63725b43f6f82bb81efb87476e27e4704c3620e1ee192d5e0fba39e06ad9fbc9c8c8b27b468ffa6dd571f9686f83e5f495c921cc78ad371f7103dc2e969b0536e1892ee0a8112a7a446f8add807a697aa2e4710aef529a20382f0bc1c1b9639a4a94721f3d078f813f5d5823483e81dec21e4568d6e652dfb1302eb72ad0c7b237860d69f0e74fc7b94093646517bd3321993fea2f440ca57e574c1d1c2f52e2d4621a990c477d6fb4d32850f6434c9097d2df2c9d8e76c590673871ca59462d19e849f2775463dc099d423d83ec359b64f91c96ca2ea214b0fec67ba24749235fea08653993948a9e692e1c648ade8cc41a17065a39cef8f1372b04179eb4e39dd1cde513a12d0a3c0a07bccc4289547f79150d3b0c5c4e4a67626d16f683932caf9fc2b852e5fe5a60db18a59e0b35cad7ddff1ba5ea8d7eee27aa0dcf6b694a79104d8f11ce5473192dbad8655831d19ea471fbf3df14672cbefcf0fb4e819c791acb8351548b61aa2c2f4351f727e2100615e83e1d68788d878e8a59eb5d36ceb010095b42f29442d3deb8f28a170440b93054125bf5da2ebaa58480b8ec64fc7a7d5949b584af65edf461c75bffbf6131e06cc3b1623759abe69a9ea20f4ac6342cc48f931fb82aa7ea0a846efa862cc8f918fbdec905fed79c05b0a45b99071d5932d57cf332f6794795847d91f1763e7f4c50ea9fa1f55433aecab08ba523151830ed50aedfc72ad1ce0a6e9577c33245a511882e03d4924e39a26ef6620446af642a15440e0962bb349da60ef84a35b47453823266811b18c29825d63b8ec7e60dfb286965d4334c745e93586358602a66c20b4ebf2429977e604af049cde3b1752b84ea9ed5f609e92bb4d09ab411f99ac97d3813763974311e73f66025f13bf575b49c510da5f01efe8caab79494474a464fffb9d8d831182f9ef477db9941d9f224a93df2afd6bb0d67ffa7b96798d26bb0f0ef701f78c02570b8a025962007ff75de13476b49461ef7b9de7e4cf6794cc8842a6e4dd7f5eeb8a41f208bd55e7b06bcb1abf6a8b3f7a15c0bd4bf3763b236932b80d911d13a6acf3fe93df236b4ef4f0cb345890649d6cc1dcf6cacc2152c97be2c0d2453dff9926c1163b6a25f99565f6422ea5b34f47c20517416dee7722fb81ae2c787157dd6e1e19d4d24c12b78e7fa54c3d8d118cc815fd688625c7d2208bdcb14eb0c48d893682b64fe25d8b9cd007402c84ebe8174dee55bedeaa6e406fd71091b5211a4dff6c5f963dda72b4ccb40a9ad37f5c25dd9599855b54082ddb3ec0b0dbbaae1c9f71a79495d4bc7d5c00bfe6bbef6d0ab499ee7710780146d1c18a2500263aad7180e83fee71f1e2fd8cdb0e0ddb39f7994e6a55f140f21d3f267f9ef519970f99c3ffaa5b228292c343d01000000c4c49788f515b26bb158243d34031b26326d8601acf9614a5a8722ca795ef8fa049b82094b646e5c193e88a5cf954578c43bcee975b6ff1746e4f5c695fc44db05a37297be071b688e128c08188212816e9f9c1d2400b9b0381721e998451a1b052ba897f785e03232ee1a4b58928b07e2031aca78c9e1436f60b40df823f6b75b8c1aa421285e552bad5148347c8b61bef6cd6d7c630a0551ec192705d29aa12a9c0e51473b73abf6e031d4756bf61bcf6648196dfa3ebc3867bbb904090a55727520d7f4410e4a38b322340855ac38702148842ff933084f12939cc040f7b08ddbd54b285ab4be133c30088a78883e4bf62ea4d65ef1c61e98ba688e770b0c0504f1989aba7122c8654f4263309732816e447220883e1c3c662a200b9cf0cbf5db53c39c982db94da4d112067ccf19f7710c025287b6449d6a545e59867279186d37a387f94659147a1285ccc06a9ee9401be2aa1f96b82455fb5a2d06018b8c39132399e41945fe172d26097bba82aa9c24b5dc72409ae1cbe041763042498f9a60b5082f3be14ace806bf3441e55e20fde279e225386cd12a495002afdfa9329259c2b0900c0dc50fed2732f4c3ea46b37b7b76e17ecb0bfca423c3b7635d86156151db0c0a2231c58d5598224671e66e058c7050f9ad6c633b09ef2a67a676c707fc4774ef9badc9402ee430c3a80b6d5e07eca5921fa729c3ffc05d76a0736c608988c9f034bbe60da55d92990d8e2074956c43e025b0a9cab75a0a4879939a536cacdca1e724841257c83b169295f826bdca2675c433069f5791b1c8b6d8b4dca25a00ad2c41549473710102cc4c21dfb469a5895cf6cc2087b92a9192005c24821e63cc50b5a7051ce56e2a635d9be8eeb1c9b23b28635c03bbc71e887caa5266d0e278bf9513ed9e29e92133d52097d14c10289114bac7c58488ca796012b5b7b8b49f967b11bb3f8602bc4632bf109313ba5c47f924e81d5975d27785878a0df6513a9f75bcc6a6e8b95630c0c7b6c334d5fd42c2d6ba2ea911003d2b900ba360d6b03976a25c86329ebfa20fe8b879324306c70a666249614273075853601853381986bb079ca0fdc2860118450bcc65420917eeb4f09e82df004be33d46cd247902ac4ccf4caa49a90c37b9254dbdcb0cb2818be59c9bd14afae646451d5477a16944f168bdf3bbc9dda8b1dc499938286341618d3c0c514855f71c28dc9d536a9825c366829b4211570036c45c1a66210a5faf961953b1c95d935dc8a7267555da732a6f4738981635410a6893eb59674f57990e3945a8a69f518c9c162bdf21c771b146161258447c4945adc2647a40964108a1a5a0832297c1b1a8737e35cc7956ba566c92a990f36344bb5f1ce445b00414037451a386602acb1fa74043620fc51474fb1cf627b59958872535a90f8d3543114743f572289054adc805736db908edcc569f0bf7cab41e2667795ec5949043c1c9a0ed0d890e19a1021574e45784e5f709141e54a4a3c2bcca40bc47a417398981212a366f5683016cf81e17e110b1deacc8b4ada50fc2327de454e98a55f5b3608e89600fbd0193b6c650033b1bf4800082423913ac6cbf8048a104e3c9530e12cb5712cb6d4dd653cb7ae815b297cbc8b2ff7242ed51c6d8aa20ecbf5d14c054646af31f7035fd83b55e50c7d57d0fb64d6783866c9d924142077e1ae37e5ccb7d6d94d54"
